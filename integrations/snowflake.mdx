---
title: "Snowflake"
description:
  "SDF can hydrate table schemas and execute queries against a Snowflake DB."
---

## Overview

This guide will walk you through the steps of creating a Snowflake integration. By the end, you will be able to reference tables in your snowflake instance in SDF.

SDF will use remote Snowflake schema information to do type bindings and other static analysis checks on your workspace.


## Guide

<Steps>
    <Step title="Collect Required Information">
        To connect to Snowflake, you need the following materials:
        * Account ID - the 8 digit organization identifier
        * Username - your Snowflake username
        * Password - your Snowflake password
        * Role - a role with appropriate permissions
        * Warehouse - The warehouse you are connecting to.

        Log in to your [Snowflake](https://app.snowflake.com/) account to find the relevant information.

        <Note>
	        Run `sdf auth login snowflake --help` to see all login options.
        </Note>

    </Step>
    <Step title="Connect SDF to Snowflake">
        Connect SDF to snowflake. SDF will prompt you for your Snowflake password.
        ``` shell
        sdf auth login snowflake --account-id <ACCOUNT_ID> --username <USERNAME> --role <ROLE> --warehouse <WAREHOUSE_NAME>
        ```
        
        <Info>
        This will create a new [credential](/reference/sdf-yml#block-credential) in a `~/.sdf/` directory in the root of your system. This credential will be used to authenticate with AWS services. By default, the 
        credential's name is default. As such, the credential does not need to be explicitly referenced in the provider configuration below.
        </Info>
    </Step>
    <Step title="Add Snowflake Provider in Workspace">
        Once authenticated, add a table provider block in your `workspace.sdf.yml`. This tells SDF to use Snowflake to hydrate missing table schemas.
        ``` yml
        workspace:
            ...
            providers:
                - name: my_first_snowflake_provider
                  type: snowflake
                  namespaces: 
                    - target: <DATABASE>.*.*
        ```

        Replace `<DATABASE>` with the name of the database you want to hydrate. Note this is configurable and can be changed to any database you have access to. For example, if I wanted SDF to pull from two databases, called `db1` and `db2`, I would write:
        ``` yml
        workspace:
            ...
            providers:
                - name: my_first_snowflake_provider
                  type: snowflake
                  namespaces: 
                    - target: db1.*.*
                    - target: db2.*.*
        ```

        Sources are even configurable at the schema and table level, for example if I only wanted to pull the schema for a table called `my_table` in schema `schema1`, but I wanted to pull the schema for all tables in `schema2`, I would write:
        ``` yml
        workspace:
            ...
            providers:
                - name: my_first_snowflake_provider
                  type: snowflake
                  namespaces: 
                    - target: db1.schema1.mytable
                    - target: db2.schema2.*
        ```

        Lastly, providers can also be configured to use specific credentials by referencing the credential name in the provider block. For example, if you wanted to use a credential called `snowflake-creds`, you would write:
        ``` yml
        workspace:
            ...
            providers:
                - name: my_first_snowflake_provider
                  type: snowflake
                  credential: snowflake-creds
                  namespaces: 
                    - target: db1.schema1.mytable
                    - target: db2.schema2.*
        ```

        <Note>
            The `*` character is a wildcard (glob pattern). Specifying a database alone is shorthand for writing, `db1.*.*`. If you wanted to pull down any sources not found while compiling, you can just use `*.*.*`. In this case, you will need to surround the `*.*.*` with double quotes like so `"*.*.*"` in order to prevent
            the yaml from interpreting the `*` as a special character.
        </Note>
    </Step>
    <Step title="Try it out!">
        Now that you're connected, let's make sure SDF can pull the schema information it needs. 

        Run `sdf compile -q "select * from <DATABASE>.<SCHEMA>.<TABLE>" --show all`

        If the connection is successful, you will see the schema for the table you selected.
    </Step>
</Steps>

<Info>
The term 'DATABASE' in Snowflake is interchangeable with the term 'CATALOG' in SDF.
</Info>
